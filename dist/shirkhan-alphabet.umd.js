var D=Object.defineProperty;var B=(e,l,c)=>l in e?D(e,l,{enumerable:!0,configurable:!0,writable:!0,value:c}):e[l]=c;var s=(e,l,c)=>(B(e,typeof l!="symbol"?l+"":l,c),c);(function(e,l){typeof exports=="object"&&typeof module!="undefined"?l(exports):typeof define=="function"&&define.amd?define(["exports"],l):(e=typeof globalThis!="undefined"?globalThis:e||self,l(e["shirkhan-alphabet"]={}))})(this,function(e){"use strict";const l=String.fromCharCode(0),c="\u0626\u200D",n=[{uchar:"\u0626",volwes:!1,uly:l,khan:"?"},{uchar:"\u0627",volwes:!0,uly:"a",khan:"a"},{uchar:"\u06D5",volwes:!0,uly:"e",khan:"e"},{uchar:"\u06D0",volwes:!0,uly:"\xEB",khan:"eh"},{uchar:"\u0649",volwes:!0,uly:"i",khan:"i"},{uchar:"\u0648",volwes:!0,uly:"o",khan:"o"},{uchar:"\u06C7",volwes:!0,uly:"u",khan:"u"},{uchar:"\u06C6",volwes:!0,uly:"\xF6",khan:"c"},{uchar:"\u06C8",volwes:!0,uly:"\xFC",khan:"v"},{uchar:"\u0628",volwes:!1,uly:"b",khan:"b"},{uchar:"\u067E",volwes:!1,uly:"p",khan:"p"},{uchar:"\u062A",volwes:!1,uly:"t",khan:"t"},{uchar:"\u062C",volwes:!1,uly:"j",khan:"j"},{uchar:"\u0686",volwes:!1,uly:"ch",khan:"ch"},{uchar:"\u062E",volwes:!1,uly:"x",khan:"kh"},{uchar:"\u062F",volwes:!1,uly:"d",khan:"d"},{uchar:"\u0631",volwes:!1,uly:"r",khan:"r"},{uchar:"\u0632",volwes:!1,uly:"z",khan:"z"},{uchar:"\u0698",volwes:!1,uly:"zh",khan:"zh"},{uchar:"\u0633",volwes:!1,uly:"s",khan:"s"},{uchar:"\u0634",volwes:!1,uly:"sh",khan:"sh"},{uchar:"\u063A",volwes:!1,uly:"gh",khan:"gh"},{uchar:"\u0642",volwes:!1,uly:"q",khan:"q"},{uchar:"\u0641",volwes:!1,uly:"f",khan:"f"},{uchar:"\u0643",volwes:!1,uly:"k",khan:"k"},{uchar:"\u06AF",volwes:!1,uly:"g",khan:"g"},{uchar:"\u06AD",volwes:!1,uly:"ng",khan:"ng"},{uchar:"\u0644",volwes:!1,uly:"l",khan:"l"},{uchar:"\u0645",volwes:!1,uly:"m",khan:"m"},{uchar:"\u0646",volwes:!1,uly:"n",khan:"n"},{uchar:"\u06BE",volwes:!1,uly:"h",khan:"x"},{uchar:"\u06CB",volwes:!1,uly:"w",khan:"w"},{uchar:"\u064A",volwes:!1,uly:"y",khan:"y"}];class o{constructor(){s(this,"_table");this._table=n}getTable(){return this._table}tokenize(u){const a=this._table.filter(h=>h.volwes).map(h=>h.uchar);return u.split("").map(h=>a.indexOf(h)!==-1?1:0).join("")}tokenToGroup(u){return u.replaceAll("1","1#").split("#")}groupToPositional(u){return u.reverse().map((a,h)=>{if(h===0||h===u.length-1)return a;switch(a.replace("1","").length){case 1:return"#"+a;case 2:return[a[0],"#",a.slice(1,3)].join("");case 3:return[a[0],"#",a.slice(1,3),a.slice(-1)].join("");case 4:return[a[0],"#",a.slice(1,3),"#",a.slice(-1)].join("");case 5:return[a[0],"#",a.slice(1,4),"#",a.slice(-1)].join("");default:return a}}).reverse()}positinalGroupToWord(u,a){const h=[];let t=0;return u.join("").split("").forEach((p,_)=>{if(p==="#"){t+=1,h.push("#");return}h.push(a[_-t])}),h.join("").split("#")}syllable(u){const a=this.tokenize(u);let h=this.tokenToGroup(a);const t=this.groupToPositional(h);return this.positinalGroupToWord(t,u)}}class i{constructor(){s(this,"_table",[]);s(this,"_volwes",[]);this._table=n,this._table.forEach(u=>u.volwes&&this._volwes.push(u.uchar))}getTable(){return this._table}getVolwes(){return this._volwes}isVolwes(u){return this._volwes.includes(u)}syllable(u){return new o().syllable(u)}}class f{constructor(){s(this,"type");s(this,"alphabet",new i)}orderedTable(){return this.alphabet.getTable().sort((u,a)=>{var h,t;return((h=a[this.type])==null?void 0:h.length)-((t=u[this.type])==null?void 0:t.length)})}getMap(){const u={};return this.orderedTable().forEach(a=>u[a[this.type]]=a.uchar),u}convert(u){return Object.entries(this.getMap()).forEach(([a,h])=>u=u.replaceAll(h,a)),u}forward(u){return Object.entries(this.getMap()).forEach(([a,h])=>u=u.replaceAll(a,h)),u}}class y extends f{constructor(){super(...arguments);s(this,"type","khan")}}class w extends f{constructor(){super(...arguments);s(this,"type","uly")}}function b(r){return new w().convert(r)}function d(r){return new w().forward(r)}function g(r){return new y().convert(r)}function A(r){return new y().forward(r)}function E(r){return r=r.trim(),r.length===0?[]:r.replace(new RegExp("[^\u0686\u06CB\u06D0\u0631\u062A\u064A\u06C7\u06AD\u0648\u067E\u06BE\u0633\u062F\u0627\u06D5\u0649\u0642\u0643\u0644\u0632\u0634\u063A\u06C8\u0628\u0646\u0645\u0626\u0644\u0627\u06C6\u062C\u062E\u06AF\u0641\u0698\u0674\u062D\u0639\u06C9\u06C5]","g")," ").split(" ").filter(u=>u.trim().length)}const C=[{schar:"\u0626",tchar:"q"},{schar:"\u0627",tchar:"w"},{schar:"\u06D5",tchar:"e"},{schar:"\u0628",tchar:"r"},{schar:"\u067E",tchar:"t"},{schar:"\u062A",tchar:"y"},{schar:"\u062C",tchar:"u"},{schar:"\u0686",tchar:"i"},{schar:"\u062E",tchar:"o"},{schar:"\u062F",tchar:"p"},{schar:"\u0631",tchar:"a"},{schar:"\u0632",tchar:"s"},{schar:"\u0698",tchar:"d"},{schar:"\u0633",tchar:"f"},{schar:"\u0634",tchar:"g"},{schar:"\u063A",tchar:"h"},{schar:"\u0641",tchar:"j"},{schar:"\u0642",tchar:"k"},{schar:"\u0643",tchar:"l"},{schar:"\u06AF",tchar:"z"},{schar:"\u0644",tchar:"x"},{schar:"\u06AD",tchar:"c"},{schar:"\u0645",tchar:"v"},{schar:"\u0646",tchar:"b"},{schar:"\u06BE",tchar:"n"},{schar:"\u0648",tchar:"m"},{schar:"\u06C7",tchar:"7"},{schar:"\u06C6",tchar:"6"},{schar:"\u06C8",tchar:"5"},{schar:"\u06CB",tchar:"4"},{schar:"\u06D0",tchar:"3"},{schar:"\u0649",tchar:"2"},{schar:"\u064A",tchar:"1"}],k={},v={};C.forEach(r=>{k[r.schar]=r.tchar,v[r.tchar]=r.schar});function j(r){return Array.from(r).map(u=>k[u]||u).join("")}function T(r){return Array.from(r).map(u=>v[u]||u).join("")}e.Alphabet=i,e.BOUND_FLAG=l,e.HEMZE=c,e.Syllable=o,e.decode=T,e.encode=j,e.khan2u=A,e.table=n,e.textToWords=E,e.u2khan=g,e.u2uly=b,e.uly2u=d,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"});
