var E=Object.defineProperty;var _=(h,l,s)=>l in h?E(h,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):h[l]=s;var t=(h,l,s)=>(_(h,typeof l!="symbol"?l+"":l,s),s);(function(h,l){typeof exports=="object"&&typeof module!="undefined"?l(exports):typeof define=="function"&&define.amd?define(["exports"],l):(h=typeof globalThis!="undefined"?globalThis:h||self,l(h["shirkhan-alphabet"]={}))})(this,function(h){"use strict";const l=String.fromCharCode(0),s=[{uchar:"\u0626",volwes:!1,uly:l,khan:"?"},{uchar:"\u0627",volwes:!0,uly:"a",khan:"a"},{uchar:"\u06D5",volwes:!0,uly:"e",khan:"e"},{uchar:"\u06D0",volwes:!0,uly:"\xEB",khan:"e'"},{uchar:"\u0649",volwes:!0,uly:"i",khan:"i"},{uchar:"\u0648",volwes:!0,uly:"o",khan:"o"},{uchar:"\u06C7",volwes:!0,uly:"u",khan:"u"},{uchar:"\u06C6",volwes:!0,uly:"\xF6",khan:"c"},{uchar:"\u06C8",volwes:!0,uly:"\xFC",khan:"v"},{uchar:"\u0628",volwes:!1,uly:"b",khan:"b"},{uchar:"\u067E",volwes:!1,uly:"p",khan:"p"},{uchar:"\u062A",volwes:!1,uly:"t",khan:"t"},{uchar:"\u062C",volwes:!1,uly:"j",khan:"j"},{uchar:"\u0686",volwes:!1,uly:"ch",khan:"ch"},{uchar:"\u062E",volwes:!1,uly:"x",khan:"kh"},{uchar:"\u062F",volwes:!1,uly:"d",khan:"d"},{uchar:"\u0631",volwes:!1,uly:"r",khan:"r"},{uchar:"\u0632",volwes:!1,uly:"z",khan:"z"},{uchar:"\u0698",volwes:!1,uly:"zh",khan:"zh"},{uchar:"\u0633",volwes:!1,uly:"s",khan:"s"},{uchar:"\u0634",volwes:!1,uly:"sh",khan:"x"},{uchar:"\u063A",volwes:!1,uly:"gh",khan:"gh"},{uchar:"\u0642",volwes:!1,uly:"q",khan:"q"},{uchar:"\u0641",volwes:!1,uly:"f",khan:"f"},{uchar:"\u0643",volwes:!1,uly:"k",khan:"k"},{uchar:"\u06AF",volwes:!1,uly:"g",khan:"g"},{uchar:"\u06AD",volwes:!1,uly:"ng",khan:"ng"},{uchar:"\u0644",volwes:!1,uly:"l",khan:"l"},{uchar:"\u0645",volwes:!1,uly:"m",khan:"m"},{uchar:"\u0646",volwes:!1,uly:"n",khan:"n"},{uchar:"\u06BE",volwes:!1,uly:"h",khan:"h"},{uchar:"\u06CB",volwes:!1,uly:"w",khan:"w"},{uchar:"\u064A",volwes:!1,uly:"y",khan:"y"}];class n{constructor(){t(this,"_table");this._table=s}getTable(){return this._table}tokenize(a){const r=this._table.filter(u=>u.volwes).map(u=>u.uchar);return a.split("").map(u=>r.indexOf(u)!==-1?1:0).join("")}tokenToGroup(a){return a.replaceAll("1","1#").split("#")}groupToPositional(a){return a.reverse().map((r,u)=>{if(u===0||u===a.length-1)return r;switch(r.replace("1","").length){case 1:return"#"+r;case 2:return[r[0],"#",r.slice(1,3)].join("");case 3:return[r[0],"#",r.slice(1,3),r.slice(-1)].join("");case 4:return[r[0],"#",r.slice(1,3),"#",r.slice(-1)].join("");case 5:return[r[0],"#",r.slice(1,4),"#",r.slice(-1)].join("");default:return r}}).reverse()}positinalGroupToWord(a,r){const u=[];let c=0;return a.join("").split("").forEach((v,C)=>{if(v==="#"){c+=1,u.push("#");return}u.push(r[C-c])}),u.join("").split("#")}syllable(a){const r=this.tokenize(a);let u=this.tokenToGroup(r);const c=this.groupToPositional(u);return this.positinalGroupToWord(c,a)}}class o{constructor(){t(this,"_table");this._table=s}getTable(){return this._table}syllable(a){return new n().syllable(a)}}class y{constructor(){t(this,"type");t(this,"alphabet",new o)}orderedTable(){return this.alphabet.getTable().sort((a,r)=>{var u,c;return((u=r[this.type])==null?void 0:u.length)-((c=a[this.type])==null?void 0:c.length)})}getMap(){const a={};return this.orderedTable().forEach(r=>a[r[this.type]]=r.uchar),a}convert(a){return Object.entries(this.getMap()).forEach(([r,u])=>a=a.replaceAll(u,r)),a}forward(a){return Object.entries(this.getMap()).forEach(([r,u])=>a=a.replaceAll(r,u)),a}}class f extends y{constructor(){super(...arguments);t(this,"type","khan")}}class i extends y{constructor(){super(...arguments);t(this,"type","uly")}}function w(e){return new i().convert(e)}function b(e){return new i().forward(e)}function d(e){return new f().convert(e)}function g(e){return new f().forward(e)}const A=[{schar:"\u0626",tchar:"q"},{schar:"\u0627",tchar:"w"},{schar:"\u06D5",tchar:"e"},{schar:"\u0628",tchar:"r"},{schar:"\u067E",tchar:"t"},{schar:"\u062A",tchar:"y"},{schar:"\u062C",tchar:"u"},{schar:"\u0686",tchar:"i"},{schar:"\u062E",tchar:"o"},{schar:"\u062F",tchar:"p"},{schar:"\u0631",tchar:"a"},{schar:"\u0632",tchar:"s"},{schar:"\u0698",tchar:"d"},{schar:"\u0633",tchar:"f"},{schar:"\u0634",tchar:"g"},{schar:"\u063A",tchar:"h"},{schar:"\u0641",tchar:"j"},{schar:"\u0642",tchar:"k"},{schar:"\u0643",tchar:"l"},{schar:"\u06AF",tchar:"z"},{schar:"\u0644",tchar:"x"},{schar:"\u06AD",tchar:"c"},{schar:"\u0645",tchar:"v"},{schar:"\u0646",tchar:"b"},{schar:"\u06BE",tchar:"n"},{schar:"\u0648",tchar:"m"},{schar:"\u06C7",tchar:"7"},{schar:"\u06C6",tchar:"6"},{schar:"\u06C8",tchar:"5"},{schar:"\u06CB",tchar:"4"},{schar:"\u06D0",tchar:"3"},{schar:"\u0649",tchar:"2"},{schar:"\u064A",tchar:"1"}],k={},p={};A.forEach(e=>{k[e.schar]=e.tchar,p[e.tchar]=e.schar});function j(e){return Array.from(e).map(a=>k[a]||a).join("")}function T(e){return Array.from(e).map(a=>p[a]||a).join("")}h.Alphabet=o,h.Syllable=n,h.decode=T,h.encode=j,h.khan2u=g,h.u2khan=d,h.u2uly=w,h.uly2u=b,Object.defineProperty(h,"__esModule",{value:!0}),h[Symbol.toStringTag]="Module"});
